import{a as M}from"./chunk-SBMOEBXP.js";import{a as C,b as d,c as y,d as _,g as L,h as k,i as F,k as N,m as q}from"./chunk-K3UZRPJZ.js";import{E as f,G as c,H as x,I as p,J as t,K as e,L as l,N as v,R as r,Y as h,fa as S,j as g,ma as E,na as b,pa as w,v as u,z as a}from"./chunk-MZPMHGPU.js";function T(i,o){i&1&&(t(0,"span",16),r(1,"*Email is required"),e())}function D(i,o){i&1&&(t(0,"span",16),r(1,"*Email is invalid"),e())}function G(i,o){i&1&&(t(0,"span",16),r(1,"*Password is required"),e())}var H=(()=>{let o=class o{constructor(){this.fb=u(N),this.authService=u(M),this.router=u(E)}ngOnInit(){this.loginform=this.fb.group({email:["",d.compose([d.required,d.email])],password:["",d.required]})}login(){this.authService.loginServices(this.loginform?.value).subscribe({next:m=>{alert(m.message),localStorage.setItem("user_id",m.data._id),this.authService.isLoggedIn$.next(!0),this.router.navigate(["products"]),this.loginform.reset()},error:m=>{console.log(m),alert(m.error.message)}})}};o.\u0275fac=function(s){return new(s||o)},o.\u0275cmp=g({type:o,selectors:[["app-login"]],standalone:!0,features:[h],decls:25,vars:7,consts:[[1,"lg:w-3/12","mt-20","p-10","shadow-2xl","mx-auto"],[1,"text-3xl","text-center","font-semibold","py-5"],[1,"",3,"formGroup"],[1,"flex","flex-row","mt-4","mb-1"],[1,"flex","m-1"],["aria-hidden","true",1,"fa","fa-user","m-1"],["name","email","formControlName","email","type","text","placeholder","Email",1,"p-2","border","text-sm","font-medium","w-full","border-gray-00","rounded"],[1,"my-2","mx-6"],["class","text-red-500 text-sm font-medium"],["aria-hidden","true",1,"fa","fa-unlock-alt","m-1"],["formControlName","password","type","text","placeholder","Password",1,"p-2","border","w-full","text-sm","font-medium","border-gray-500","rounded"],["class","text-red-500 text-sm font-medium "],[1,"bg-indigo-500","p-2","text-xm","text-white","rounded","mt-3",3,"disabled","click"],[1,"flex","justify-between","mt-5"],["routerLink","/forget-password",1,"text-indigo-600","ml-2","text-sm","font-medium","cursor-pointer"],["routerLink","/register",1,"text-indigo-600","ml-2","text-sm","font-medium","cursor-pointer"],[1,"text-red-500","text-sm","font-medium"]],template:function(s,n){s&1&&(t(0,"div",0)(1,"h3",1),r(2,"Login"),e(),t(3,"form",2)(4,"div",3)(5,"div",4),l(6,"i",5),e(),l(7,"input",6),e(),t(8,"div",7),f(9,T,2,0,"span",8)(10,D,2,0,"span",8),e(),t(11,"div",3)(12,"div",4),l(13,"i",9),e(),l(14,"input",10),e(),t(15,"div",7),f(16,G,2,0,"span",11),e(),t(17,"div",7)(18,"button",12),v("click",function(){return n.login()}),r(19," Login "),e(),t(20,"div",13)(21,"a",14),r(22,"Forget password?"),e(),t(23,"a",15),r(24,"Create Account"),e()()()()()),s&2&&(a(3),c("formGroup",n.loginform),a(6),p(9,n.loginform.hasError("required","email")&&n.loginform.controls.email.dirty?9:-1),a(),p(10,n.loginform.hasError("email","email")?10:-1),a(6),p(16,n.loginform.hasError("required","password")&&n.loginform.controls.password.dirty?16:-1),a(2),x("disabled",n.loginform.invalid),c("disabled",n.loginform.invalid))},dependencies:[S,q,L,C,y,_,k,F,w,b]});let i=o;return i})();export{H as default};
